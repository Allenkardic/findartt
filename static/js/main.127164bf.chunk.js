(this.webpackJsonpfindartt=this.webpackJsonpfindartt||[]).push([[0],{55:function(e,t,a){},56:function(e,t,a){},63:function(e,t,a){e.exports=a(92)},72:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),i=a.n(o),l=a(18),s=a(27),c=a(58),u=a(23),m={errors:null,authenticated:!1,ui_loading:!1},h={arttworks:[],recentArttwork:{}},d=Object(s.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return Object(u.a)({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return Object(u.a)({},e,{authenticated:!1});case"SET_ERROR":return Object(u.a)({},e,{errors:t.payload});case"UI_LOADING":return Object(u.a)({},e,{ui_loading:!0});case"UI_NOLOADING":return Object(u.a)({},e,{ui_loading:!1});case"SET_NOERROR":return Object(u.a)({},e,{errors:null});default:return e}},arttwork:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ARTTWORKS":return Object(u.a)({},e,{arttworks:t.payload});case"GET_ARTTWORK":return Object(u.a)({},e,{recentArttwork:t.payload});default:return e}}}),p=[c.a],b=Object(s.e)(d,{},Object(s.d)(s.a.apply(void 0,p),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),f=a(7),E=a(6),g=a(8),v=a(9),O=a(10),w=a(16),y=a(28),k=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"hello world"),r.a.createElement("h3",null,"this is "))}}]),t}(n.Component),j=(a(72),function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(v.a)(t).call(this))).onToggleShow=function(){e.setState({showContent:!e.state.showContent})},e.state={showContent:!1},e}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"siderbar-item"},this.state.showContent?r.a.createElement("ul",{className:"sidebar-item-content"},r.a.createElement(k,null),r.a.createElement(w.b,{to:"/home"},r.a.createElement("li",null,"Home")),r.a.createElement(w.b,{to:"/user/artwork"},r.a.createElement("li",null,"Artwork")),r.a.createElement(w.b,{to:"/user/profile"},r.a.createElement("li",null,"My profile")),r.a.createElement(w.b,{to:"/user/setting"},r.a.createElement("li",null,"Settings")),r.a.createElement(w.b,{to:"/logout"},r.a.createElement("li",null,"Logout"))):null),r.a.createElement("div",{className:"siderbar-item"},r.a.createElement("i",{className:"",onClick:this.onToggleShow,class:"fas fa-bars bar"}))))}}]),t}(n.Component)),N=a(2),T=a(15),A=a.n(T),C=function(e){var t=e.component,a=e.authenticated,n=Object(N.a)(e,["component","authenticated"]);return r.a.createElement(y.b,Object.assign({},n,{render:function(e){var n=localStorage.getItem("token");return A.a.defaults.headers.common.Authorization=n,!0===a?r.a.createElement(t,e):r.a.createElement(y.a,{to:"/"})}}))},S=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,"Home"),r.a.createElement("div",{className:"arttwork-image"}),r.a.createElement("h2",null))}}]),t}(n.Component),_=a(20),D=(a(55),a(121)),I=a(120),U=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(v.a)(t).call(this))).handleChange=function(t){e.setState(Object(_.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n={email:a.email,password:a.password};e.props.signinUser(n,e.props.history),e.setState({email:"",password:""})},e.state={email:"",password:"",error:null},e}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return console.log("loading",this.props),r.a.createElement("div",{className:"form-container"},";",r.a.createElement("div",null,this.state.error?r.a.createElement("h1",null,"invalid username or password"):null),r.a.createElement("form",{action:"",onSubmit:this.handleSubmit},r.a.createElement(D.a,{id:"email",name:"email",type:"email",label:"email",helperText:this.state.error,value:t,onChange:this.handleChange,fullWidth:!0,required:!0}),r.a.createElement(D.a,{id:"password",name:"password",type:"password",label:"password",helperText:this.state.error,value:a,onChange:this.handleChange,fullWidth:!0,required:!0}),r.a.createElement("button",{className:"btn-default"},"Login",this.props.loading.ui_loading&&r.a.createElement(I.a,{style:{zindex:"5"},variant:"query"}))),r.a.createElement("div",null,"Don't have an account signup here"," ",r.a.createElement(w.b,{to:"/signup"},r.a.createElement("button",{className:"btn"}," signup"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.errors.errors;return a!==t.error?{error:a}:{error:null}}}]),t}(n.Component),R=Object(l.b)((function(e){return{errors:e.user,loading:e.user,authenticated:e.user.authenticated}}),{signinUser:function(e,t){return function(a){a({type:"UI_LOADING"}),A.a.post("https://findartt.herokuapp.com/api/v1/auth/login",e).then((function(e){var n=e.data.data.tokenInfo.accessToken;localStorage.setItem("token",n),A.a.defaults.headers.common.Authorization=n,t.push("/home"),a({type:"UI_NOLOADING"})})),a({type:"SET_AUTHENTICATED"})}}})(U),x=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(v.a)(t).call(this))).handleChange=function(t){e.setState(Object(_.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n={email:a.email,firstName:a.firstName,lastName:a.lastName,phone:a.phone,country:a.country,password:a.password};e.props.signupUser(n,e.props.history),e.setState({email:"",password:""})},e.state={email:"",firstName:"",lastName:"",phone:"",country:"",gender:"",password:"",confirmPassword:"",error:null},e}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.firstName,n=e.lastName,o=e.phone,i=e.country,l=e.password,s=e.confirmPassword;return r.a.createElement("div",{className:"form-container"},r.a.createElement("form",{action:"",onSubmit:this.handleSubmit},r.a.createElement(D.a,{id:"email",name:"email",type:"email",label:"email",helperText:this.state.error,error:this.state.error,value:t,onChange:this.handleChange,fullWidth:!0,required:!0}),r.a.createElement(D.a,{id:"firstName",name:"firstName",type:"firstName",label:"firstName",value:a,helperText:this.state.error,error:this.state.error,onChange:this.handleChange,fullWidth:!0,required:!0}),r.a.createElement(D.a,{id:"lastName",name:"lastName",type:"lastName",label:"lastName",helperText:this.state.error,error:this.state.error,value:n,onChange:this.handleChange,fullWidth:!0,required:!0}),r.a.createElement(D.a,{id:"phone",name:"phone",type:"number",label:"phone",helperText:this.state.error,error:this.state.error,value:o,onChange:this.handleChange,fullWidth:!0,required:!0}),r.a.createElement(D.a,{id:"country",name:"country",type:"country",label:"country",helperText:this.state.error,error:this.state.error,value:i,onChange:this.handleChange,fullWidth:!0,required:!0}),r.a.createElement(D.a,{id:"password",name:"password",type:"password",label:"password",helperText:this.state.error,error:this.state.error,value:l,onChange:this.handleChange,fullWidth:!0,required:!0}),r.a.createElement(D.a,{type:"password",id:"confirmPassword",name:"confirmPassword",label:"confirmPassword",helperText:this.state.error,error:this.state.error,value:s,onChange:this.handleChange,fullWidth:!0,required:!0}),r.a.createElement("button",{className:"btn-default"},"Sign Up")),r.a.createElement("div",null,"already have an account sign in here"," ",r.a.createElement(w.b,{to:"/"},r.a.createElement("button",{className:"btn"}," signin"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){console.log(e);var a=e.errors.errors;if(a!==t.error)return{error:a}}}]),t}(n.Component),W=Object(l.b)((function(e){return{errors:e.user}}),{signupUser:function(e,t){return function(a){a({type:"UI_LOADING"}),A.a.post("https://findartt.herokuapp.com/api/v1/auth/signup",e).then((function(e){var n=e.data.data.tokenInfo.accessToken;localStorage.setItem("token",n),A.a.defaults.headers.common.Authorization=n,a({type:"SET_AUTHENTICATED"}),t.push("/home")})).catch((function(e){if(!e)return null;a({type:"SET_ERROR",payload:e.response.data.message}),console.log(e.response.data.message)}))}}})(x),q=(a(56),function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){console.log("home",this.props.arttworks);var e=this.props.arttworks,t=e.id,a=e.imageUrl,n=e.name,o=e.description;return r.a.createElement("div",{className:"container-home-url"},r.a.createElement("div",null,r.a.createElement(w.b,{to:"/arttworkbid/".concat(t)},r.a.createElement("img",{className:"home-url",src:a,alt:"art work"}))),r.a.createElement("div",{className:"home-description"},"Art work name: ",n),r.a.createElement("div",{className:"home-description"},"Discription: ",o))}}]),t}(n.Component)),L=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.getArttworks(),console.log("hello",this.props)}},{key:"render",value:function(){console.log("that",this.props);var e=this.props.arttworks;return console.log("ui_loading",this.props),r.a.createElement("div",null,e.map((function(e){return r.a.createElement(q,{Key:e.id,arttworks:e})})),r.a.createElement(I.a,{style:{marginTop:"20%",marginLeft:"20%",marginRight:"20%"},variant:"query"}))}}]),t}(n.Component),G=Object(l.b)((function(e){return{arttworks:e.arttwork.arttworks}}),{getArttworks:function(){return function(e){e({type:"UI_LOADING"}),A.a.get("https://findartt.herokuapp.com/api/v1/art/find").then((function(t){e({type:"GET_ARTTWORKS",payload:t.data.data}),console.log(t.data.data)}))}}})(L),P=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(v.a)(t).call(this))).handleSubmit=function(e){e.preventDefault()},e.state={makeBid:""},e}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getArttwork(e)}},{key:"render",value:function(){var e=this.props.recentArttwork.imageUrl;return this.props.recentArttwork.currentBid?r.a.createElement("div",null,r.a.createElement("img",{className:"home-url-art",src:e,alt:"art work"}),r.a.createElement("div",null,"Date created: ",this.props.recentArttwork.createdDate),r.a.createElement("div",{className:"bid-container"},r.a.createElement("div",null,this.props.recentArttwork.description),r.a.createElement("div",{className:"minimum-bid"},"Minimum bid:"," ",r.a.createElement("span",{style:{paddingLeft:"0.5rem",paddingRight:"0.5rem"}},"\u20a6"," "),this.props.recentArttwork.minimumAmount),this.props.recentArttwork.bids.map((function(e){return r.a.createElement("div",{className:"bid-amount"},r.a.createElement("div",{className:"bid-amount-item"},r.a.createElement("span",null,"\u20a6")," ",e.amount),r.a.createElement("div",{className:"bid-amount-item"},".",e.updatedDate))})),r.a.createElement("form",{action:"",onSubmit:this.handleSubmit},r.a.createElement(D.a,{id:"bid",name:"bid",type:"number",label:"Your bid amount",onChange:this.handleChange,fullWidth:!0,required:!0}),r.a.createElement("button",{className:"btn-default"},"Make a Bid")))):r.a.createElement(I.a,{style:{marginTop:"20%"},variant:"query"})}}],[{key:"getDerivedStateFromProps",value:function(e,t){console.log("get derived",t),console.log("here is state",e)}}]),t}(n.Component),z=Object(l.b)((function(e){return{recentArttwork:e.arttwork.recentArttwork}}),{getArttwork:function(e){return function(t){t({type:"UI_LOADING"}),A.a.get("https://findartt.herokuapp.com/api/v1/art/find/".concat(e,"/summary")).then((function(e){t({type:"GET_ARTTWORK",payload:e.data.data}),console.log(e.data.data)}))}}})(P),H=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).signOutUser=function(){a.props.logout(a.props.history)},a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{style:{float:"right"},onClick:this.signOutUser},"logout"))}}]),t}(n.Component),M=Object(l.b)(null,{logout:function(e){return function(t){A.a.post("https://findartt.herokuapp.com/api/v1/auth/logout").then((function(a){delete A.a.defaults.headers.common.Authorization,localStorage.removeItem("token"),e.push("/"),t({type:"SET_UNAUTHENTICATED"})}))}}})(H),B=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"you are loggedin"))}}]),t}(n.Component),K=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(v.a)(t).call(this))).state={auth:!!localStorage.getItem("token")||null,token:null},e}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token"),t=A.a.defaults.headers.common.Authorization=e;console.log(e),e?(this.setState({auth:!0,token:t}),A.a.defaults.headers.common.Authorization=e):this.setState({auth:!1})}},{key:"render",value:function(){var e=this.state,t=e.auth,a=e.token,n=this.props.authenticated;return console.log("hello",{auth:t,authenticated:n,token:a}),r.a.createElement(w.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(j,null),r.a.createElement(y.d,null,r.a.createElement(y.b,{exact:!0,path:"/",component:R}),r.a.createElement(y.b,{exact:!0,path:"/signup",component:W}),r.a.createElement(C,{exact:!0,path:"/home",authenticated:t||n,component:G}),r.a.createElement(C,{exact:!0,path:"/user/artwork",authenticated:t||n,component:S}),r.a.createElement(C,{exact:!0,path:"/user/profile",authenticated:t||n,component:B}),r.a.createElement(C,{exact:!0,path:"/logout",authenticated:t||n,component:M}),r.a.createElement(C,{exact:!0,path:"/arttworkbid/:id",authenticated:t||n,component:z}))))}}]),t}(r.a.Component),X=Object(l.b)((function(e){return{authenticated:e.user.authenticated}}),null)(K);a(91);var F=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,{store:b},r.a.createElement(X,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[63,1,2]]]);
//# sourceMappingURL=main.127164bf.chunk.js.map